{"ast":null,"code":"var _jsxFileName = \"/Users/jaivonfrederick/Development/code/phase-4/phase-4-church-website/frontEnd/src/components/GroupsContainer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport GroupsList from './GroupsList';\nimport GroupDetail from './GroupDetail';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction GroupsContainer() {\n  _s();\n\n  const [groups, setGroups] = useState([]);\n  useEffect(() => {\n    fetch(\"/groups\", {\n      credentials: 'include'\n    }).then(res => res.json()).then(groups => setGroups(groups));\n  }, []);\n\n  const leaveGroup = groupId => {\n    let membership = groups.find(group => group.id === groupId).membership.id;\n    return fetch(`/memberships/${membership}`, {\n      method: 'DELETE',\n      credentials: 'include'\n    }).then(res => {\n      if (res.ok) {\n        const updatedGroups = groups.map(group => {\n          if (group.id === groupId) {\n            return { ...group,\n              membership: undefined\n            };\n          } else {\n            return group;\n          }\n        });\n        setGroups(updatedGroups);\n      }\n    });\n  };\n\n  const joinGroup = groupId => {\n    return fetch('/memberships', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        group_id: groupId\n      })\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return res.json().then(errors => Promise.reject(errors));\n      }\n    }).then(membership => {\n      const updatedGroups = groups.map(group => {\n        if (group.id === groupId) {\n          return { ...group,\n            membership: membership\n          };\n        } else {\n          return group;\n        }\n      });\n      setGroups(updatedGroups);\n    });\n  };\n\n  const createGroup = formData => {\n    return fetch(\"/groups\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify(formData)\n    }).then(res => {\n      if (res.ok) {\n        return res.json();\n      } else {\n        return res.json().then(errors => Promise.reject(errors));\n      }\n    }).then(group => {\n      setGroups(groups.concat(group));\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Switch, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/groups\",\n        children: /*#__PURE__*/_jsxDEV(GroupsList, {\n          groups: groups,\n          leaveGroup: leaveGroup,\n          joinGroup: joinGroup,\n          createGroup: createGroup\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        exact: true,\n        path: \"/groups/:id\",\n        render: _ref => {\n          let {\n            match\n          } = _ref;\n          return /*#__PURE__*/_jsxDEV(GroupDetail, {\n            groupId: match.params.id,\n            leaveGroup: leaveGroup,\n            joinGroup: joinGroup\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this);\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this);\n}\n\n_s(GroupsContainer, \"UbUkkKKaTwVY7PWotTfxor2xXvY=\");\n\n_c = GroupsContainer;\nexport default GroupsContainer;\n\nvar _c;\n\n$RefreshReg$(_c, \"GroupsContainer\");","map":{"version":3,"names":["React","useState","useEffect","Switch","Route","GroupsList","GroupDetail","GroupsContainer","groups","setGroups","fetch","credentials","then","res","json","leaveGroup","groupId","membership","find","group","id","method","ok","updatedGroups","map","undefined","joinGroup","headers","body","JSON","stringify","group_id","errors","Promise","reject","createGroup","formData","concat","match","params"],"sources":["/Users/jaivonfrederick/Development/code/phase-4/phase-4-church-website/frontEnd/src/components/GroupsContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Switch, Route } from 'react-router-dom'\nimport GroupsList from './GroupsList'\nimport GroupDetail from './GroupDetail'\n\nfunction GroupsContainer() {\n  const [groups, setGroups] = useState([]);\n\n  useEffect(() => {\n    fetch(\"/groups\", {\n      credentials: 'include'\n    })\n      .then(res => res.json())\n      .then(groups => setGroups(groups))\n  }, [])\n\n\n  const leaveGroup = (groupId) => {\n    let membership = groups.find(group => group.id === groupId).membership.id\n    return fetch(`/memberships/${membership}`, {\n      method: 'DELETE',\n      credentials: 'include'\n    })\n      .then(res => {\n        if (res.ok) {\n          const updatedGroups = groups.map(group => {\n            if (group.id === groupId) {\n              return {\n                ...group,\n                membership: undefined\n              }\n            } else {\n              return group\n            }\n          })\n          setGroups(updatedGroups)\n        }\n      })\n  }\n\n  const joinGroup = (groupId) => {\n    return fetch('/memberships', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify({\n        group_id: groupId\n      })\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        } else {\n          return res.json().then(errors => Promise.reject(errors))\n        }\n      })\n      .then(membership => {\n        const updatedGroups = groups.map(group => {\n          if (group.id === groupId) {\n            return {\n              ...group,\n              membership: membership\n            }\n          } else {\n            return group\n          }\n        })\n        setGroups(updatedGroups)\n      })\n  }\n\n  const createGroup = (formData) => {\n    return fetch(\"/groups\", {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include',\n      body: JSON.stringify(formData)\n    })\n      .then(res => {\n        if (res.ok) {\n          return res.json()\n        } else {\n          return res.json().then(errors => Promise.reject(errors))\n        }\n      })\n      .then(group => {\n        setGroups(groups.concat(group))\n      })\n  }\n\n  return (\n    <div>\n      <Switch>\n        <Route\n          exact\n          path=\"/groups\"\n        >\n          <GroupsList\n            groups={groups}\n            leaveGroup={leaveGroup}\n            joinGroup={joinGroup}\n            createGroup={createGroup}\n          />\n        </Route>\n        <Route\n          exact\n          path=\"/groups/:id\"\n          render={({ match }) => {\n            return (\n              <GroupDetail\n                groupId={match.params.id}\n                leaveGroup={leaveGroup}\n                joinGroup={joinGroup}\n              />\n            )\n          }}\n        />\n      </Switch>\n    </div>\n  )\n}\n\nexport default GroupsContainer"],"mappings":"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"},"metadata":{},"sourceType":"module"}